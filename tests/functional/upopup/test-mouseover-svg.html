<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet"
            href="../../../styles/ui.upopup.css" />
        <script type="text/javascript"
            src="../../../scripts/contrib/jquery-1.4.2.min.js">
        </script>
        <script type="text/javascript"
            src="../../../scripts/ui.shared.js">
        </script>
        <script type="text/javascript"
            src="../../../scripts/ui.upopup.js">
        </script>
        <style type="text/css">
            body {
                margin: 0;
            }
            .test-instructions {
                padding: 3em 3em 0 3em;
            }
            .center {
                text-align: center;
            }
            .hover {
                width: 50%;
                background-color: #888;
                margin: 0 auto;
            }
            .popup {
                display: none;
            }
            .upopup .popup {
                display: block !important;
                width: 15em;
            }
        </style>
    </head>
    <body>
        <div class="test-instructions">
            Hover over the shaded figure below. A popup window should appear,
            and should follow your mouse pointer as long as you remain within
            the shaded area.  When you click the mouse anywhere in the document,
            the popup should disappear.

        </div>
        <div class="popup">
            This is a test of a uPopup instance, being driven by a mouse-over
            event. Notice how the popup follows the mouse cursor's position.
            The selected element says: <span id="pct"> 0% </span>
        </div>
        <script type="text/javascript">
            var popup = null;
            jQuery(function ($) {
                $('body').bind('click', function (ev) {
                    if (popup) {
                        popup.uPopup('destroy', function () {
                            popup = null;
                        });
                    }
                });
                $('path').bind('mousemove', function (ev) {
                    if (popup) {
                        popup.uPopup('recalculate', { eventData: ev });
                    } else {
                        popup = $('.popup').uPopup('create', this, {
                            eventData: ev,
                            useCorners: false,
                            invertPlacement: true,
                            cssClasses: 'upopup-square upopup-small'
                        });
                    }
                    $('#pct').html(
                        $(this).next('text').children('tspan').text()
                    );
                });
            });
        </script>
        <div class="center">
        <svg height="300" version="1.1" width="220" xmlns="http://www.w3.org/2000/svg" style="overflow-x: hidden; overflow-y: hidden; position: relative; "><defs></defs><path style="" fill="#ca410b" stroke="#f2f2f2" d="M110,150L210,150A100,100,0,0,0,102.39949136676039,50.2892570054959Z" stroke-width="2"></path><text style="text-anchor: middle; font: normal normal normal 10px/normal Arial; opacity: 1; font-size: 18px; font-weight: bold; " x="147.87502488121027" y="109.12805562045149" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#ffffff" opacity="1" font-size="18px" font-weight="bold"><tspan dy="6.628055620451491">26%</tspan></text><path style="" fill="#cbcbcb" stroke="#f2f2f2" d="M110,150L102.39949136676039,50.2892570054959A100,100,0,0,0,92.63518223330696,248.4807753012208Z" stroke-width="2"></path><text style="text-anchor: middle; font: normal normal normal 10px/normal Arial; opacity: 1; font-size: 18px; font-weight: bold; " x="56.80445815468784" y="147.37921319960748" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#ffffff" opacity="1" font-size="18px" font-weight="bold"><tspan dy="5.879213199607477">46%</tspan></text><path style="" fill="#8eb51c" stroke="#f2f2f2" d="M110,150L92.63518223330696,248.4807753012208A100,100,0,0,0,210,150.00000000000003Z" stroke-width="2"></path><text style="text-anchor: middle; font: normal normal normal 10px/normal Arial; opacity: 1; font-size: 18px; font-weight: bold; " x="145.61043357663428" y="192.43886214879137" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#ffffff" opacity="1" font-size="18px" font-weight="bold"><tspan dy="5.938862148791372">28%</tspan></text></svg>
        </div>
    </body>
</html>
